[
    [
        "function_str",
        "def _estimate_snr(in_file, seg_file):\n    import numpy as np\n    import nibabel as nb\n    from mriqc.qc.anatomical import snr\n    data = nb.load(in_file).get_data()\n    mask = nb.load(seg_file).get_data() == 2  # WM label\n    out_snr = snr(np.mean(data[mask]), data[mask].std(), mask.sum())\n    return out_snr\n"
    ],
    [
        "in_file",
        [
            "/home/kilimanjaro2/Research/monkeyStuff/secondN4/sub-001/bias_corrected.nii.gz",
            "0fe4a820f803ac242f8d8d7cafb72c12"
        ]
    ],
    [
        "seg_file",
        [
            "/home/kilimanjaro2/Research/monkeyStuff/mriqc/work/mriqc_wf/anatMRIQC/_in_file_..home..kilimanjaro2..Research..monkeyStuff..bidsData..sub-001..anat..sub-001_T1w.nii.gz/segmentation/segment_seg.nii.gz",
            "7b48f040cfee2e9c378623c6f6edccfb"
        ]
    ],
    [
        "needed_outputs",
        [
            "out_snr"
        ]
    ]
]